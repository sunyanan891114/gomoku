{"version":3,"sources":["webpack:///main.db7ce79b479efc22fbeb.js","webpack:///webpack/bootstrap 8cf069afa0a1469d74b4","webpack:///./src/js/modal.js","webpack:///./src/index.js","webpack:///./src/js/Chessboard.js","webpack:///./src/js/drawHelper.js","webpack:///./src/js/playerConfig.js","webpack:///./src/asset/piece-black.png","webpack:///./src/asset/piece-white.png","webpack:///./src/js/computerAI.js","webpack:///./src/js/winStrategy.js","webpack:///./src/js/TimeBox.js","webpack:///./src/asset/chessboard.jpg"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","hideModal","document","getElementsByClassName","className","showModal","text","innerHTML","_interopRequireDefault","obj","default","_Chessboard","_Chessboard2","_modal","_chessboard","_chessboard2","addEventListener","getElementById","startSingleGame","startMultipleGame","showBackgroundAfterFullyLoaded","canvas","style","backgroundImage","bgImage","Image","src","onload","filter","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","_drawHelper","_drawHelper2","_playerConfig","_playerConfig2","_computerAI","_computerAI2","_TimeBox","_TimeBox2","ChessBoard","mode","this","num","gridWidth","step","regretButton","cancelRegretButton","restartButton","disabled","width","height","resetStep","over","brush","history","isSingleMode","computerAI","timeBox","black","white","initBoard","board","x","y","drawBoard","bindEvents","isLx","bind","isLy","isX","isY","calculatePiecePosition","regret","cancelRegret","gameOver","resetPiece","pieceComputer","piecePlayer","setPiece","piece","clearPiece","e","_this","offsetX","offsetY","isPieceInBoard","alert","cx","Math","round","cy","computerPiece","nextStep","setTimeout","player","drawPiece","image","id","startTime","otherId","stopTime","judge","colNum","judgeAlgorithms","map","algorithm","flag","count","pieceValue","calculateValue","minusXGenerator","minusYGenerator","plusXGenerator","plusYGenerator","minus","plus","result","calculatePieceLine","getDynamicPosition","success","getMaxCount","valueGenerator","_this2","_this3","arguments","undefined","type","clearButtons","removeEventListener","drawHelper","ctx","getContext","strokeStyle","fillStyle","lineWidth","moveTo","lineTo","stroke","imageSrc","pieceImage","drawImage","startX","startY","beginPath","clearRect","_pieceBlack","_pieceBlack2","_pieceWhite","_pieceWhite2","_winStrategy","ComputerAI","calculateWinNums","wins","chessboard","myScore","computerScore","myWin","_myWin","computerWin","_compWin","max","u","v","j","k","TimeBox","timeInput","millisecond","second","minute","timer","timeFormatter","interval","setInterval","window","clearInterval","time"],"mappings":"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","file":"main.db7ce79b479efc22fbeb.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar hideModal = exports.hideModal = function hideModal() {\n  document.getElementsByClassName('modal')[0].className = \"modal\";\n};\n\nvar showModal = exports.showModal = function showModal(text) {\n  document.getElementsByClassName('modal')[0].className = \"modal active\";\n  if (text) document.getElementsByClassName('modal__info')[0].innerHTML = text;\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _Chessboard = __webpack_require__(2);\n\nvar _Chessboard2 = _interopRequireDefault(_Chessboard);\n\nvar _modal = __webpack_require__(0);\n\n__webpack_require__(10);\n\nvar _chessboard = __webpack_require__(11);\n\nvar _chessboard2 = _interopRequireDefault(_chessboard);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  document.getElementById('single-player').addEventListener('click', startSingleGame);\n  document.getElementById('multi-player').addEventListener('click', startMultipleGame);\n  showBackgroundAfterFullyLoaded();\n});\n\nvar showBackgroundAfterFullyLoaded = function showBackgroundAfterFullyLoaded() {\n  var canvas = document.getElementById('chessboard-canvas');\n  canvas.style.backgroundImage = \"none\";\n  var bgImage = new Image();\n  bgImage.src = _chessboard2.default;\n  bgImage.onload = function () {\n    canvas.style.backgroundImage = 'url(' + _chessboard2.default + ')';\n    canvas.style.filter = 'blur(0)';\n  };\n};\n\nvar startSingleGame = function startSingleGame() {\n  new _Chessboard2.default(15, 'single');\n  (0, _modal.hideModal)();\n};\n\nvar startMultipleGame = function startMultipleGame() {\n  new _Chessboard2.default(15, 'multiple');\n  (0, _modal.hideModal)();\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _drawHelper = __webpack_require__(3);\n\nvar _drawHelper2 = _interopRequireDefault(_drawHelper);\n\nvar _playerConfig = __webpack_require__(4);\n\nvar _playerConfig2 = _interopRequireDefault(_playerConfig);\n\nvar _computerAI = __webpack_require__(7);\n\nvar _computerAI2 = _interopRequireDefault(_computerAI);\n\nvar _modal = __webpack_require__(0);\n\nvar _TimeBox = __webpack_require__(9);\n\nvar _TimeBox2 = _interopRequireDefault(_TimeBox);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ChessBoard = function () {\n  function ChessBoard(n, mode) {\n    _classCallCheck(this, ChessBoard);\n\n    this.num = n;\n    this.gridWidth = 35;\n    this.step = 0;\n    this.canvas = document.getElementById('chessboard-canvas');\n    this.regretButton = document.getElementById('regret');\n    this.cancelRegretButton = document.getElementById('cancel-regret');\n    this.restartButton = document.getElementById('restart');\n    this.restartButton.disabled = false;\n    this.canvas.width = this.gridWidth * this.num;\n    this.canvas.height = this.gridWidth * this.num;\n    this.resetStep = 0;\n    this.over = false;\n    this.brush = new _drawHelper2.default(this.canvas);\n    this.mode = mode;\n    this.history = [];\n    if (this.isSingleMode()) {\n      this.computerAI = new _computerAI2.default(n);\n    }\n    this.timeBox = {\n      black: new _TimeBox2.default('black-timer'),\n      white: new _TimeBox2.default('white-timer')\n    };\n    this.initBoard();\n  }\n\n  _createClass(ChessBoard, [{\n    key: 'isSingleMode',\n    value: function isSingleMode() {\n      return this.mode === 'single';\n    }\n  }, {\n    key: 'initBoard',\n    value: function initBoard() {\n      this.board = [];\n      for (var x = 0; x < this.num; x++) {\n        this.board[x] = [];\n        for (var y = 0; y < this.num; y++) {\n          this.board[x][y] = 0;\n        }\n      }\n      this.brush.drawBoard(this.num, this.gridWidth);\n      this.bindEvents();\n    }\n  }, {\n    key: 'bindEvents',\n    value: function bindEvents() {\n      this.isLx = this.isLx.bind(this);\n      this.isLy = this.isLy.bind(this);\n      this.isX = this.isX.bind(this);\n      this.isY = this.isY.bind(this);\n      this.calculatePiecePosition = this.calculatePiecePosition.bind(this);\n      this.regret = this.regret.bind(this);\n      this.cancelRegret = this.cancelRegret.bind(this);\n      this.gameOver = this.gameOver.bind(this);\n      this.canvas.addEventListener('click', this.calculatePiecePosition);\n      this.regretButton.addEventListener('click', this.regret);\n      this.cancelRegretButton.addEventListener('click', this.cancelRegret);\n      this.restartButton.addEventListener('click', this.gameOver);\n    }\n  }, {\n    key: 'regret',\n    value: function regret() {\n      if (this.isSingleMode()) {\n        this.resetPiece();\n      }\n      this.resetPiece();\n    }\n  }, {\n    key: 'cancelRegret',\n    value: function cancelRegret() {\n      var pieceComputer = this.history[this.step + 1];\n      var piecePlayer = this.history[this.step + 2];\n      if (this.isSingleMode()) {\n        this.setPiece(pieceComputer.x, pieceComputer.y);\n        this.setPiece(piecePlayer.x, piecePlayer.y);\n        this.resetStep--;\n      } else {\n        this.setPiece(pieceComputer.x, pieceComputer.y);\n      }\n      this.resetStep--;\n      if (this.resetStep == 0) this.cancelRegretButton.disabled = true;\n    }\n  }, {\n    key: 'resetPiece',\n    value: function resetPiece() {\n      var piece = this.history[this.step];\n      this.brush.clearPiece(piece.x, piece.y, this.gridWidth);\n      this.board[piece.x][piece.y] = 0;\n      this.step--;\n      if (this.step === 0) this.regretButton.disabled = true;\n      this.cancelRegretButton.disabled = false;\n      this.resetStep++;\n    }\n  }, {\n    key: 'isPieceInBoard',\n    value: function isPieceInBoard(x, y) {\n      return x > 0 && x < this.gridWidth * this.num - this.gridWidth / 2 || y > 0 || y < this.gridWidth * this.num - this.gridWidth / 2;\n    }\n  }, {\n    key: 'calculatePiecePosition',\n    value: function calculatePiecePosition(e) {\n      var _this = this;\n\n      var x = e.offsetX,\n          y = e.offsetY;\n      if (!this.isPieceInBoard(x, y)) {\n        alert(\"当前已经是棋盘边缘了\");\n        return;\n      }\n      var cx = Math.round(x / this.gridWidth),\n          cy = Math.round(y / this.gridWidth);\n      if (this.board[cx][cy] === 0) {\n        this.resetStep = 0;\n        this.cancelRegretButton.disabled = true;\n        this.setPiece(cx, cy);\n        if (this.isSingleMode() && !this.over) {\n          var computerPiece = this.computerAI.nextStep(this.board);\n          setTimeout(function () {\n            _this.setPiece(computerPiece.x, computerPiece.y);\n          }, 100);\n        }\n      } else {\n        alert(\"当前位置已有棋子，请不要重复落子哦\");\n      }\n    }\n  }, {\n    key: 'setPiece',\n    value: function setPiece(cx, cy) {\n      this.step++;\n      var player = _playerConfig2.default[this.step % 2];\n      this.brush.drawPiece(cx, cy, player.image, this.gridWidth);\n      this.board[cx][cy] = player.value;\n      this.history[this.step] = { x: cx, y: cy };\n      this.regretButton.disabled = false;\n      this.timeBox[player.id].startTime();\n      this.timeBox[player.otherId].stopTime();\n      this.judge(cx, cy, player.value);\n    }\n  }, {\n    key: 'judgeAlgorithms',\n    value: function judgeAlgorithms() {\n      return [this.isX, this.isY, this.isLx, this.isLy];\n    }\n  }, {\n    key: 'judge',\n    value: function judge(x, y, colNum) {\n      this.judgeAlgorithms().map(function (algorithm) {\n        algorithm(colNum, x, y);\n      });\n    }\n  }, {\n    key: 'calculatePieceLine',\n    value: function calculatePieceLine(flag, count, pieceValue, calculateValue) {\n      if (!flag) return { count: count, flag: flag };\n      if (pieceValue === calculateValue) {\n        count++;\n      } else {\n        flag = false;\n      }\n      return { count: count, flag: flag };\n    }\n  }, {\n    key: 'getDynamicPosition',\n    value: function getDynamicPosition(x, y) {\n      if (x < 0 || x >= this.num || y < 0 || y >= this.num) {\n        return 0;\n      }\n      return this.board[x][y];\n    }\n  }, {\n    key: 'getMaxCount',\n    value: function getMaxCount(minusXGenerator, minusYGenerator, plusXGenerator, plusYGenerator, x, y, colNum) {\n      var count = 0,\n          minus = true,\n          plus = true;\n      for (var i = 1; i <= 5; i++) {\n        var result = this.calculatePieceLine(minus, count, this.getDynamicPosition(minusXGenerator(x, i), minusYGenerator(y, i)), colNum);\n        count = result.count;\n        minus = result.flag;\n\n        result = this.calculatePieceLine(plus, count, this.getDynamicPosition(plusXGenerator(x, i), plusYGenerator(y, i)), colNum);\n        count = result.count;\n        plus = result.flag;\n      }\n      this.success(count, colNum);\n    }\n  }, {\n    key: 'valueGenerator',\n    value: function valueGenerator(x, i) {\n      return x;\n    }\n  }, {\n    key: 'isX',\n    value: function isX(colNum, x, y) {\n      this.getMaxCount(function (x, i) {\n        return x - i;\n      }, this.valueGenerator, function (x, i) {\n        return x + i;\n      }, this.valueGenerator, x, y, colNum);\n    }\n  }, {\n    key: 'isY',\n    value: function isY(colNum, x, y) {\n      this.getMaxCount(this.valueGenerator, function (x, i) {\n        return x - i;\n      }, this.valueGenerator, function (x, i) {\n        return x + i;\n      }, x, y, colNum);\n    }\n  }, {\n    key: 'isLx',\n    value: function isLx(colNum, x, y) {\n      this.getMaxCount(function (x, i) {\n        return x - i;\n      }, function (y, i) {\n        return y - i;\n      }, function (x, i) {\n        return x + i;\n      }, function (y, i) {\n        return y + i;\n      }, x, y, colNum);\n    }\n  }, {\n    key: 'isLy',\n    value: function isLy(colNum, x, y) {\n      this.getMaxCount(function (x, i) {\n        return x - i;\n      }, function (y, i) {\n        return y + i;\n      }, function (x, i) {\n        return x + i;\n      }, function (y, i) {\n        return y - i;\n      }, x, y, colNum);\n    }\n  }, {\n    key: 'success',\n    value: function success(count, colNum) {\n      var _this2 = this;\n\n      if (count >= 4) {\n        _playerConfig2.default.map(function (player) {\n          if (player.value === colNum) {\n            _this2.gameOver(player.name + '\\u83B7\\u80DC');\n          }\n        });\n      }\n    }\n  }, {\n    key: 'gameOver',\n    value: function gameOver() {\n      var _this3 = this;\n\n      var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '请选择游戏模式';\n\n      this.over = true;\n      if (text.type === 'click') text = '请选择游戏模式';\n      (0, _modal.showModal)(text);\n      this.clearButtons();\n      _playerConfig2.default.map(function (player) {\n        _this3.timeBox[player.id].stopTime();\n      });\n    }\n  }, {\n    key: 'clearButtons',\n    value: function clearButtons() {\n      this.canvas.removeEventListener('click', this.calculatePiecePosition);\n      this.regretButton.removeEventListener('click', this.regret);\n      this.cancelRegretButton.removeEventListener('click', this.cancelRegret);\n      this.restartButton.removeEventListener('click', this.gameOver);\n      this.regretButton.disabled = true;\n      this.cancelRegretButton.disabled = true;\n      this.restartButton.disabled = true;\n    }\n  }]);\n\n  return ChessBoard;\n}();\n\nexports.default = ChessBoard;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar drawHelper = function () {\n  function drawHelper(canvas) {\n    _classCallCheck(this, drawHelper);\n\n    this.ctx = canvas.getContext('2d');\n    this.ctx.strokeStyle = 'rgba(0,0,0,1)';\n    this.ctx.fillStyle = 'rgba(0,0,0,1)';\n    this.ctx.lineWidth = 1.5;\n  }\n\n  _createClass(drawHelper, [{\n    key: 'drawBoard',\n    value: function drawBoard(num, gridWidth) {\n      var width = gridWidth * num;\n\n      for (var i = 1; i < num; i++) {\n        this.ctx.moveTo(0, i * gridWidth);\n        this.ctx.lineTo(width, i * gridWidth);\n        this.ctx.moveTo(i * gridWidth, 0);\n        this.ctx.lineTo(i * gridWidth, width);\n      }\n      this.ctx.stroke();\n    }\n  }, {\n    key: 'drawPiece',\n    value: function drawPiece(cx, cy, imageSrc, gridWidth) {\n      var _this = this;\n\n      var pieceImage = new Image();\n      pieceImage.src = imageSrc;\n      pieceImage.onload = function () {\n        _this.ctx.drawImage(pieceImage, cx * gridWidth - gridWidth / 2, cy * gridWidth - gridWidth / 2, gridWidth, gridWidth);\n      };\n    }\n  }, {\n    key: 'clearPiece',\n    value: function clearPiece(cx, cy, gridWidth) {\n      var startX = cx * gridWidth - gridWidth / 2,\n          startY = cy * gridWidth - gridWidth / 2;\n      this.ctx.beginPath();\n      this.ctx.clearRect(startX, startY, gridWidth, gridWidth);\n      this.ctx.moveTo(startX - 0.5, cy * gridWidth);\n      this.ctx.lineTo(startX + gridWidth + 0.5, cy * gridWidth);\n      this.ctx.moveTo(cx * gridWidth, startY - 0.5);\n      this.ctx.lineTo(cx * gridWidth, startY + gridWidth + 0.5);\n      this.ctx.stroke();\n    }\n  }]);\n\n  return drawHelper;\n}();\n\nexports.default = drawHelper;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _pieceBlack = __webpack_require__(5);\n\nvar _pieceBlack2 = _interopRequireDefault(_pieceBlack);\n\nvar _pieceWhite = __webpack_require__(6);\n\nvar _pieceWhite2 = _interopRequireDefault(_pieceWhite);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = [{\n  id: 'black',\n  value: 1,\n  image: _pieceWhite2.default,\n  name: '白棋',\n  otherId: 'white'\n}, {\n  id: 'white',\n  value: 2,\n  name: '黑棋',\n  image: _pieceBlack2.default,\n  otherId: 'black'\n}];\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"piece-black.png\";\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"piece-white.png\";\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _winStrategy = __webpack_require__(8);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ComputerAI = function () {\n  function ComputerAI(num) {\n    _classCallCheck(this, ComputerAI);\n\n    var result = (0, _winStrategy.calculateWinNums)();\n    this.wins = result.wins;\n    this.count = result.count;\n    this.num = num;\n  }\n\n  _createClass(ComputerAI, [{\n    key: 'nextStep',\n    value: function nextStep(chessboard) {\n      var myScore = [];\n      var computerScore = [];\n      var myWin = [];\n      var _myWin = [];\n      var computerWin = [];\n      var _compWin = [];\n      for (var i = 0; i < this.count; i++) {\n        myWin[i] = 0;\n        _myWin[i] = 0;\n        computerWin[i] = 0;\n        _compWin[i] = 0;\n      }\n      var max = 0,\n          u = 0,\n          v = 0;\n      for (var _i = 0; _i < this.num; _i++) {\n        myScore[_i] = [];\n        computerScore[_i] = [];\n        for (var j = 0; j < this.num; j++) {\n          myScore[_i][j] = 0;\n          computerScore[_i][j] = 0;\n        }\n      }\n\n      for (var _i2 = 0; _i2 < this.num; _i2++) {\n        for (var _j = 0; _j < this.num; _j++) {\n          for (var k = 0; k < this.count; k++) {\n            // 将可能赢的情况都加1\n            if (this.wins[_i2][_j][k]) {\n              if (chessboard[_i2][_j] === 1) {\n                myWin[k]++;\n                computerWin[k] = 6; //\n              } else if (chessboard[_i2][_j] === 2) {\n                myWin[k] = 6;\n                _compWin[k] = computerWin[k]; // 为悔棋做准备\n                computerWin[k]++; //\n              }\n            }\n          }\n        }\n      }\n      for (var _i3 = 0; _i3 < this.num; _i3++) {\n        for (var _j2 = 0; _j2 < this.num; _j2++) {\n          if (chessboard[_i3][_j2] == 0) {\n            for (var _k = 0; _k < this.count; _k++) {\n              if (this.wins[_i3][_j2][_k]) {\n                if (myWin[_k] == 1) {\n                  myScore[_i3][_j2] += 220;\n                } else if (myWin[_k] == 2) {\n                  myScore[_i3][_j2] += 420;\n                } else if (myWin[_k] == 3) {\n                  myScore[_i3][_j2] += 2100;\n                } else if (myWin[_k] == 4) {\n                  myScore[_i3][_j2] += 20000;\n                }\n\n                if (computerWin[_k] == 1) {\n                  computerScore[_i3][_j2] += 200;\n                } else if (computerWin[_k] == 2) {\n                  computerScore[_i3][_j2] += 400;\n                } else if (computerWin[_k] == 3) {\n                  computerScore[_i3][_j2] += 2900;\n                } else if (computerWin[_k] == 4) {\n                  computerScore[_i3][_j2] += 10000;\n                }\n              }\n            }\n\n            if (myScore[_i3][_j2] > max) {\n              max = myScore[_i3][_j2];\n              u = _i3;\n              v = _j2;\n            } else if (myScore[_i3][_j2] == max) {\n              if (computerScore[_i3][_j2] > computerScore[u][v]) {\n                u = _i3;\n                v = _j2;\n              }\n            }\n\n            if (computerScore[_i3][_j2] > max) {\n              max = computerScore[_i3][_j2];\n              u = _i3;\n              v = _j2;\n            } else if (computerScore[_i3][_j2] == max) {\n              if (myScore[_i3][_j2] > myScore[u][v]) {\n                u = _i3;\n                v = _j2;\n              }\n            }\n          }\n        }\n      }\n      return { x: u, y: v };\n    }\n  }]);\n\n  return ComputerAI;\n}();\n\nexports.default = ComputerAI;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n//赢法数组\n\nvar calculateWinNums = exports.calculateWinNums = function calculateWinNums() {\n  var wins = [];\n  for (var i = 0; i < 15; i++) {\n    wins[i] = [];\n    for (var j = 0; j < 15; j++) {\n      wins[i][j] = [];\n    }\n  }\n  var count = 0; //赢法总数\n  //横线赢法\n  for (var _i = 0; _i < 15; _i++) {\n    for (var _j = 0; _j < 11; _j++) {\n      for (var k = 0; k < 5; k++) {\n        wins[_i][_j + k][count] = true;\n      }\n      count++;\n    }\n  }\n\n  //竖线赢法\n  for (var _i2 = 0; _i2 < 15; _i2++) {\n    for (var _j2 = 0; _j2 < 11; _j2++) {\n      for (var _k = 0; _k < 5; _k++) {\n        wins[_j2 + _k][_i2][count] = true;\n      }\n      count++;\n    }\n  }\n\n  //正斜线赢法\n  for (var _i3 = 0; _i3 < 11; _i3++) {\n    for (var _j3 = 0; _j3 < 11; _j3++) {\n      for (var _k2 = 0; _k2 < 5; _k2++) {\n        wins[_i3 + _k2][_j3 + _k2][count] = true;\n      }\n      count++;\n    }\n  }\n\n  //反斜线赢法\n  for (var _i4 = 0; _i4 < 11; _i4++) {\n    for (var _j4 = 14; _j4 > 3; _j4--) {\n      for (var _k3 = 0; _k3 < 5; _k3++) {\n        wins[_i4 + _k3][_j4 - _k3][count] = true;\n      }\n      count++;\n    }\n  }\n\n  return { wins: wins, count: count };\n};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TimeBox = function () {\n  function TimeBox(id) {\n    _classCallCheck(this, TimeBox);\n\n    this.timeInput = document.getElementById(id);\n    this.millisecond = 0;\n    this.second = 0;\n    this.minute = 0;\n    this.timer = this.timer.bind(this);\n    this.timeInput.value = timeFormatter(this.minute) + \" : \" + timeFormatter(this.second) + \" : \" + timeFormatter(this.millisecond);\n  }\n\n  _createClass(TimeBox, [{\n    key: \"startTime\",\n    value: function startTime() {\n      this.interval = setInterval(this.timer, 10);\n    }\n  }, {\n    key: \"timer\",\n    value: function timer() {\n      this.millisecond = this.millisecond + 1;\n      if (this.millisecond >= 100) {\n        this.millisecond = 0;\n        this.second++;\n      } else if (this.second >= 60) {\n        this.second = 0;\n        this.minute++;\n      }\n      this.timeInput.value = timeFormatter(this.minute) + \" : \" + timeFormatter(this.second) + \" : \" + timeFormatter(this.millisecond);\n    }\n  }, {\n    key: \"stopTime\",\n    value: function stopTime() {\n      window.clearInterval(this.interval);\n    }\n  }]);\n\n  return TimeBox;\n}();\n\nexports.default = TimeBox;\n\n\nvar timeFormatter = function timeFormatter(time) {\n  if (time / 10 < 1) {\n    return \"0\" + time;\n  }\n  return time;\n};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"chessboard.jpg\";\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// main.db7ce79b479efc22fbeb.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8cf069afa0a1469d74b4","export const hideModal = () => {\n  document.getElementsByClassName('modal')[0].className = \"modal\";\n};\n\nexport const showModal = (text) => {\n  document.getElementsByClassName('modal')[0].className = \"modal active\";\n  if (text) document.getElementsByClassName('modal__info')[0].innerHTML = text;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/modal.js","import Chessboard from './js/Chessboard';\nimport {hideModal} from './js/modal';\nimport './styles/styles.scss';\nimport chessboardBackground from './asset/chessboard.jpg';\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  document.getElementById('single-player').addEventListener('click', startSingleGame);\n  document.getElementById('multi-player').addEventListener('click', startMultipleGame);\n  showBackgroundAfterFullyLoaded();\n});\n\nconst showBackgroundAfterFullyLoaded = () => {\n  const canvas = document.getElementById('chessboard-canvas');\n  canvas.style.backgroundImage = \"none\";\n  const bgImage = new Image();\n  bgImage.src = chessboardBackground;\n  bgImage.onload = function() {\n    canvas.style.backgroundImage = `url(${chessboardBackground})`;\n    canvas.style.filter = 'blur(0)';\n  };\n};\n\nconst startSingleGame = () => {\n  new Chessboard(15, 'single');\n  hideModal();\n};\n\nconst startMultipleGame = () => {\n  new Chessboard(15, 'multiple');\n  hideModal();\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import drawHelper from './drawHelper';\nimport players from './playerConfig';\nimport computerAI from './computerAI';\nimport {showModal} from './modal';\nimport TimeBox from './TimeBox';\n\nexport default class ChessBoard {\n  constructor(n, mode) {\n    this.num = n;\n    this.gridWidth = 35;\n    this.step = 0;\n    this.canvas = document.getElementById('chessboard-canvas');\n    this.regretButton = document.getElementById('regret');\n    this.cancelRegretButton = document.getElementById('cancel-regret');\n    this.restartButton = document.getElementById('restart');\n    this.restartButton.disabled = false;\n    this.canvas.width = this.gridWidth * this.num;\n    this.canvas.height = this.gridWidth * this.num;\n    this.resetStep = 0;\n    this.over = false;\n    this.brush = new drawHelper(this.canvas);\n    this.mode = mode;\n    this.history = [];\n    if (this.isSingleMode()) {\n      this.computerAI = new computerAI(n);\n    }\n    this.timeBox = {\n      black: new TimeBox('black-timer'),\n      white: new TimeBox('white-timer')\n    };\n    this.initBoard();\n  }\n\n  isSingleMode() {\n    return this.mode === 'single';\n  }\n\n  initBoard() {\n    this.board = [];\n    for (let x = 0; x < this.num; x++) {\n      this.board[x] = [];\n      for (let y = 0; y < this.num; y++) {\n        this.board[x][y] = 0\n      }\n    }\n    this.brush.drawBoard(this.num, this.gridWidth);\n    this.bindEvents();\n  }\n\n  bindEvents() {\n    this.isLx = this.isLx.bind(this);\n    this.isLy = this.isLy.bind(this);\n    this.isX = this.isX.bind(this);\n    this.isY = this.isY.bind(this);\n    this.calculatePiecePosition = this.calculatePiecePosition.bind(this);\n    this.regret = this.regret.bind(this);\n    this.cancelRegret = this.cancelRegret.bind(this);\n    this.gameOver = this.gameOver.bind(this);\n    this.canvas.addEventListener('click', this.calculatePiecePosition);\n    this.regretButton.addEventListener('click', this.regret);\n    this.cancelRegretButton.addEventListener('click', this.cancelRegret);\n    this.restartButton.addEventListener('click', this.gameOver);\n  }\n\n  regret() {\n    if (this.isSingleMode()) {\n      this.resetPiece();\n    }\n    this.resetPiece();\n  }\n\n  cancelRegret() {\n    let pieceComputer = this.history[this.step + 1];\n    let piecePlayer = this.history[this.step + 2];\n    if (this.isSingleMode()) {\n      this.setPiece(pieceComputer.x, pieceComputer.y);\n      this.setPiece(piecePlayer.x, piecePlayer.y);\n      this.resetStep--;\n    } else {\n      this.setPiece(pieceComputer.x, pieceComputer.y);\n    }\n    this.resetStep--;\n    if (this.resetStep == 0) this.cancelRegretButton.disabled = true;\n  }\n\n  resetPiece() {\n    let piece = this.history[this.step];\n    this.brush.clearPiece(piece.x, piece.y, this.gridWidth);\n    this.board[piece.x][piece.y] = 0;\n    this.step--;\n    if (this.step === 0) this.regretButton.disabled = true;\n    this.cancelRegretButton.disabled = false;\n    this.resetStep++;\n  }\n\n  isPieceInBoard(x, y) {\n    return (x > 0 && x < this.gridWidth * this.num - this.gridWidth / 2 ||\n    y > 0 || y < this.gridWidth * this.num - this.gridWidth / 2)\n  }\n\n  calculatePiecePosition(e) {\n    const x = e.offsetX, y = e.offsetY;\n    if (!this.isPieceInBoard(x, y)) {\n      alert(\"当前已经是棋盘边缘了\");\n      return;\n    }\n    const cx = Math.round(x / this.gridWidth),\n      cy = Math.round(y / this.gridWidth);\n    if (this.board[cx][cy] === 0) {\n      this.resetStep = 0;\n      this.cancelRegretButton.disabled = true;\n      this.setPiece(cx, cy);\n      if (this.isSingleMode() && !this.over) {\n        const computerPiece = this.computerAI.nextStep(this.board);\n        setTimeout(() => {\n          this.setPiece(computerPiece.x, computerPiece.y);\n        }, 100);\n      }\n    } else {\n      alert(\"当前位置已有棋子，请不要重复落子哦\");\n    }\n  }\n\n  setPiece(cx, cy) {\n    this.step++;\n    const player = players[this.step % 2];\n    this.brush.drawPiece(cx, cy, player.image, this.gridWidth);\n    this.board[cx][cy] = player.value;\n    this.history[this.step] = {x: cx, y: cy};\n    this.regretButton.disabled = false;\n    this.timeBox[player.id].startTime();\n    this.timeBox[player.otherId].stopTime();\n    this.judge(cx, cy, player.value);\n  }\n\n  judgeAlgorithms() {\n    return [this.isX, this.isY, this.isLx, this.isLy]\n  }\n\n  judge(x, y, colNum) {\n    this.judgeAlgorithms().map((algorithm) => {\n      algorithm(colNum, x, y);\n    });\n  }\n\n  calculatePieceLine(flag, count, pieceValue, calculateValue) {\n    if (!flag) return {count, flag};\n    if (pieceValue === calculateValue) {\n      count++;\n    }\n    else {\n      flag = false;\n    }\n    return {count, flag};\n  }\n\n  getDynamicPosition(x, y) {\n    if (x < 0 || x >= this.num || y < 0 || y >= this.num) {\n      return 0;\n    }\n    return this.board[x][y];\n  }\n\n  getMaxCount(minusXGenerator, minusYGenerator, plusXGenerator, plusYGenerator, x, y, colNum) {\n    let count = 0, minus = true, plus = true;\n    for (let i = 1; i <= 5; i++) {\n      let result = this.calculatePieceLine(minus, count, this.getDynamicPosition(minusXGenerator(x, i), minusYGenerator(y, i)), colNum);\n      count = result.count;\n      minus = result.flag;\n\n      result = this.calculatePieceLine(plus, count, this.getDynamicPosition(plusXGenerator(x, i), plusYGenerator(y, i)), colNum);\n      count = result.count;\n      plus = result.flag;\n    }\n    this.success(count, colNum);\n  }\n\n  valueGenerator(x, i) {\n    return x;\n  }\n\n  isX(colNum, x, y) {\n    this.getMaxCount((x, i) => {\n        return x - i\n      }, this.valueGenerator,\n      (x, i) => {\n        return x + i\n      }, this.valueGenerator, x, y, colNum);\n  }\n\n  isY(colNum, x, y) {\n    this.getMaxCount(this.valueGenerator, (x, i) => {\n        return x - i\n      }, this.valueGenerator,\n      (x, i) => {\n        return x + i\n      }, x, y, colNum);\n  }\n\n  isLx(colNum, x, y) {\n    this.getMaxCount((x, i) => {\n        return x - i\n      }, (y, i) => {\n        return y - i\n      }, (x, i) => {\n        return x + i\n      },\n      (y, i) => {\n        return y + i\n      }, x, y, colNum);\n  }\n\n  isLy(colNum, x, y) {\n    this.getMaxCount((x, i) => {\n        return x - i\n      }, (y, i) => {\n        return y + i\n      }, (x, i) => {\n        return x + i\n      },\n      (y, i) => {\n        return y - i\n      }, x, y, colNum);\n  }\n\n  success(count, colNum) {\n    if (count >= 4) {\n      players.map((player) => {\n        if (player.value === colNum) {\n          this.gameOver(`${player.name}获胜`);\n        }\n      });\n    }\n  }\n\n  gameOver(text = '请选择游戏模式') {\n    this.over = true;\n    if (text.type === 'click') text = '请选择游戏模式';\n    showModal(text);\n    this.clearButtons();\n    players.map((player) => {\n      this.timeBox[player.id].stopTime();\n    });\n  }\n\n  clearButtons() {\n    this.canvas.removeEventListener('click', this.calculatePiecePosition);\n    this.regretButton.removeEventListener('click', this.regret);\n    this.cancelRegretButton.removeEventListener('click', this.cancelRegret);\n    this.restartButton.removeEventListener('click', this.gameOver);\n    this.regretButton.disabled = true;\n    this.cancelRegretButton.disabled = true;\n    this.restartButton.disabled = true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Chessboard.js","export default class drawHelper {\n\n  constructor(canvas) {\n    this.ctx = canvas.getContext('2d');\n    this.ctx.strokeStyle = 'rgba(0,0,0,1)';\n    this.ctx.fillStyle = 'rgba(0,0,0,1)';\n    this.ctx.lineWidth = 1.5;\n  }\n\n  drawBoard(num, gridWidth) {\n    const width = gridWidth * num;\n\n    for (let i = 1; i < num; i++) {\n      this.ctx.moveTo(0, i * gridWidth);\n      this.ctx.lineTo(width, i * gridWidth);\n      this.ctx.moveTo(i * gridWidth, 0);\n      this.ctx.lineTo(i * gridWidth, width);\n    }\n    this.ctx.stroke();\n  }\n\n  drawPiece(cx, cy, imageSrc, gridWidth) {\n    const pieceImage = new Image();\n    pieceImage.src = imageSrc;\n    pieceImage.onload = () => {\n      this.ctx.drawImage(pieceImage, cx * gridWidth - gridWidth / 2, cy * gridWidth - gridWidth / 2, gridWidth, gridWidth);\n    };\n  }\n\n  clearPiece(cx, cy, gridWidth) {\n    const startX = cx * gridWidth - gridWidth / 2,\n      startY = cy * gridWidth - gridWidth / 2;\n    this.ctx.beginPath();\n    this.ctx.clearRect(startX, startY, gridWidth, gridWidth);\n    this.ctx.moveTo(startX - 0.5, cy * gridWidth);\n    this.ctx.lineTo(startX + gridWidth + 0.5, cy * gridWidth);\n    this.ctx.moveTo(cx * gridWidth, startY - 0.5);\n    this.ctx.lineTo(cx * gridWidth, startY + gridWidth + 0.5);\n    this.ctx.stroke();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/drawHelper.js","import blackPiece from '../asset/piece-black.png';\nimport whitePiece from '../asset/piece-white.png';\n\nexport default [{\n  id: 'black',\n  value: 1,\n  image: whitePiece,\n  name: '白棋',\n  otherId: 'white'\n},{\n  id: 'white',\n  value: 2,\n  name: '黑棋',\n  image: blackPiece,\n  otherId: 'black'\n}]\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/playerConfig.js","module.exports = __webpack_public_path__ + \"piece-black.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/asset/piece-black.png\n// module id = 5\n// module chunks = 0","module.exports = __webpack_public_path__ + \"piece-white.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/asset/piece-white.png\n// module id = 6\n// module chunks = 0","import {calculateWinNums} from './winStrategy';\n\nexport default class ComputerAI {\n  constructor(num) {\n    const result = calculateWinNums();\n    this.wins = result.wins;\n    this.count = result.count;\n    this.num = num;\n  }\n\n  nextStep(chessboard) {\n    const myScore = [];\n    const computerScore = [];\n    const myWin = [];\n    const _myWin = [];\n    const computerWin = [];\n    const _compWin = [];\n    for (let i = 0; i < this.count; i++) {\n      myWin[i] = 0;\n      _myWin[i] = 0;\n      computerWin[i] = 0;\n      _compWin[i] = 0;\n    }\n    let max = 0, u = 0, v = 0;\n    for (let i = 0; i < this.num; i++) {\n      myScore[i] = [];\n      computerScore[i] = [];\n      for (let j = 0; j < this.num; j++) {\n        myScore[i][j] = 0;\n        computerScore[i][j] = 0;\n      }\n    }\n\n    for (let i = 0; i < this.num; i++) {\n      for (let j = 0; j < this.num; j++) {\n        for (let k = 0; k < this.count; k++) { // 将可能赢的情况都加1\n          if (this.wins[i][j][k]) {\n            if(chessboard[i][j] === 1) {\n              myWin[k]++;\n              computerWin[k] = 6;//\n            } else if(chessboard[i][j] === 2) {\n              myWin[k] = 6;\n              _compWin[k] = computerWin[k]; // 为悔棋做准备\n              computerWin[k]++;//\n            }\n          }\n        }\n      }\n    }\n    for (let i = 0; i < this.num; i++) {\n      for (let j = 0; j < this.num; j++) {\n        if (chessboard[i][j] == 0) {\n          for (let k = 0; k < this.count; k++) {\n            if (this.wins[i][j][k]) {\n              if (myWin[k] == 1) {\n                myScore[i][j] += 220;\n              } else if (myWin[k] == 2) {\n                myScore[i][j] += 420;\n              } else if (myWin[k] == 3) {\n                myScore[i][j] += 2100;\n              } else if (myWin[k] == 4) {\n                myScore[i][j] += 20000;\n              }\n\n              if (computerWin[k] == 1) {\n                computerScore[i][j] += 200;\n              } else if (computerWin[k] == 2) {\n                computerScore[i][j] += 400;\n              } else if (computerWin[k] == 3) {\n                computerScore[i][j] += 2900;\n              } else if (computerWin[k] == 4) {\n                computerScore[i][j] += 10000;\n              }\n            }\n          }\n\n          if (myScore[i][j] > max) {\n            max = myScore[i][j];\n            u = i;\n            v = j;\n          } else if (myScore[i][j] == max) {\n            if (computerScore[i][j] > computerScore[u][v]) {\n              u = i;\n              v = j;\n            }\n          }\n\n          if (computerScore[i][j] > max) {\n            max = computerScore[i][j];\n            u = i;\n            v = j;\n          } else if (computerScore[i][j] == max) {\n            if (myScore[i][j] > myScore[u][v]) {\n              u = i;\n              v = j;\n            }\n          }\n\n        }\n      }\n    }\n    return {x: u, y: v}\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/computerAI.js","//赢法数组\n\nexport const calculateWinNums = () => {\n  const wins = [];\n  for (let i = 0; i < 15; i++) {\n    wins[i] = [];\n    for (let j = 0; j < 15; j++) {\n      wins[i][j] = [];\n    }\n  }\n  let count = 0; //赢法总数\n//横线赢法\n  for (let i = 0; i < 15; i++) {\n    for (let j = 0; j < 11; j++) {\n      for (let k = 0; k < 5; k++) {\n        wins[i][j + k][count] = true;\n      }\n      count++;\n    }\n  }\n\n//竖线赢法\n  for (let i = 0; i < 15; i++) {\n    for (let j = 0; j < 11; j++) {\n      for (let k = 0; k < 5; k++) {\n        wins[j + k][i][count] = true;\n      }\n      count++;\n    }\n  }\n\n//正斜线赢法\n  for (let i = 0; i < 11; i++) {\n    for (let j = 0; j < 11; j++) {\n      for (let k = 0; k < 5; k++) {\n        wins[i + k][j + k][count] = true;\n      }\n      count++;\n    }\n  }\n\n//反斜线赢法\n  for (let i = 0; i < 11; i++) {\n    for (let j = 14; j > 3; j--) {\n      for (let k = 0; k < 5; k++) {\n        wins[i + k][j - k][count] = true;\n      }\n      count++;\n    }\n  }\n\n  return {wins, count};\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/winStrategy.js","export default class TimeBox {\n  constructor(id) {\n    this.timeInput = document.getElementById(id);\n    this.millisecond = 0;\n    this.second = 0;\n    this.minute = 0;\n    this.timer = this.timer.bind(this);\n    this.timeInput.value = `${timeFormatter(this.minute)} : ${timeFormatter(this.second)} : ${timeFormatter(this.millisecond)}`;\n  }\n\n  startTime() {\n    this.interval = setInterval(this.timer, 10);\n  }\n\n  timer() {\n    this.millisecond = this.millisecond + 1;\n    if (this.millisecond >= 100) {\n      this.millisecond = 0;\n      this.second++\n    } else if (this.second >= 60) {\n      this.second = 0;\n      this.minute++;\n    }\n    this.timeInput.value = `${timeFormatter(this.minute)} : ${timeFormatter(this.second)} : ${timeFormatter(this.millisecond)}`;\n  }\n\n  stopTime() {\n    window.clearInterval(this.interval);\n  }\n}\n\nconst timeFormatter = (time) => {\n  if (time / 10 < 1) {\n    return `0${time}`\n  }\n  return time;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/TimeBox.js","module.exports = __webpack_public_path__ + \"chessboard.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/asset/chessboard.jpg\n// module id = 11\n// module chunks = 0"],"sourceRoot":""}