{"version":3,"sources":["webpack:///main.73acc8dcc4c2fd3d9882.js","webpack:///webpack/bootstrap 642cc07ed427d788629c","webpack:///./src/index.js","webpack:///./src/js/Chessboard.js","webpack:///./src/js/drawHelper.js","webpack:///./src/js/playerConfig.js","webpack:///./src/asset/piece-black.png","webpack:///./src/asset/piece-white.png","webpack:///./src/js/computerAI.js","webpack:///./src/js/winStrategy.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_Chessboard","_Chessboard2","obj","default","document","addEventListener","_interopRequireDefault","_classCallCheck","instance","Constructor","TypeError","value","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","_drawHelper","_drawHelper2","_playerConfig","_playerConfig2","_computerAI","_computerAI2","ChessBoard","this","num","gridWidth","board","step","canvas","getElementById","width","height","brush","computerAI","bindEvents","initBoard","isLx","bind","isLy","isX","isY","calculatePiecePosition","x","y","drawBoard","e","offsetX","offsetY","isPieceInBoard","cx","Math","round","cy","completeBoard","computerPiece","nextStep","alert","player","drawPiece","image","setPiece","judge","colNum","judgeAlgorithms","map","algorithm","flag","count","pieceValue","calculateValue","minusXGenerator","minusYGenerator","plusXGenerator","plusYGenerator","minus","plus","result","calculatePieceLine","getDynamicPosition","success","getMaxCount","valueGenerator","removeEventListener","drawHelper","ctx","getContext","moveTo","lineTo","stroke","imageSrc","_this","pieceImage","Image","src","onload","drawImage","_pieceBlack","_pieceBlack2","_pieceWhite","_pieceWhite2","_winStrategy","ComputerAI","calculateWinNums","wins","chessboard","myScore","computerScore","myWin","_myWin","computerWin","_compWin","max","u","v","j","k"],"mappings":"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","file":"main.73acc8dcc4c2fd3d9882.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _Chessboard = __webpack_require__(1);\n\nvar _Chessboard2 = _interopRequireDefault(_Chessboard);\n\n__webpack_require__(8);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  new _Chessboard2.default(15);\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _drawHelper = __webpack_require__(2);\n\nvar _drawHelper2 = _interopRequireDefault(_drawHelper);\n\nvar _playerConfig = __webpack_require__(3);\n\nvar _playerConfig2 = _interopRequireDefault(_playerConfig);\n\nvar _computerAI = __webpack_require__(6);\n\nvar _computerAI2 = _interopRequireDefault(_computerAI);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ChessBoard = function () {\n  function ChessBoard(n) {\n    _classCallCheck(this, ChessBoard);\n\n    this.num = n;\n    this.gridWidth = 35;\n    this.board = [];\n    this.step = 0;\n    this.canvas = document.getElementById('chessboard-canvas');\n    this.canvas.width = this.gridWidth * this.num;\n    this.canvas.height = this.gridWidth * this.num;\n    this.brush = new _drawHelper2.default(this.canvas);\n    this.computerAI = new _computerAI2.default();\n    this.bindEvents();\n    this.initBoard();\n    this.isLx = this.isLx.bind(this);\n    this.isLy = this.isLy.bind(this);\n    this.isX = this.isX.bind(this);\n    this.isY = this.isY.bind(this);\n    this.calculatePiecePosition = this.calculatePiecePosition.bind(this);\n  }\n\n  _createClass(ChessBoard, [{\n    key: 'initBoard',\n    value: function initBoard() {\n      for (var x = 0; x < this.num; x++) {\n        this.board[x] = [];\n        for (var y = 0; y < this.num; y++) {\n          this.board[x][y] = 0;\n        }\n      }\n      this.brush.drawBoard(this.num, this.gridWidth);\n    }\n  }, {\n    key: 'bindEvents',\n    value: function bindEvents() {\n      this.canvas.addEventListener('click', this.calculatePiecePosition.bind(this));\n    }\n  }, {\n    key: 'isPieceInBoard',\n    value: function isPieceInBoard(x, y) {\n      return x > 0 && x < this.gridWidth * this.num - this.gridWidth / 2 || y > 0 || y < this.gridWidth * this.num - this.gridWidth / 2;\n    }\n  }, {\n    key: 'calculatePiecePosition',\n    value: function calculatePiecePosition(e) {\n      var x = e.offsetX,\n          y = e.offsetY;\n      if (!this.isPieceInBoard(x, y)) {\n        return;\n      }\n      var cx = Math.round(x / this.gridWidth),\n          cy = Math.round(y / this.gridWidth);\n      this.completeBoard(cx, cy);\n      var computerPiece = this.computerAI.nextStep(this.board);\n      this.completeBoard(computerPiece.x, computerPiece.y);\n    }\n  }, {\n    key: 'completeBoard',\n    value: function completeBoard(cx, cy) {\n      if (this.board[cx][cy] !== 0) {\n        alert(\"当前位置已有棋子，请不要重复落子哦\");\n        return;\n      }\n      this.step += 1;\n      var player = _playerConfig2.default[this.step % 2];\n      this.brush.drawPiece(cx, cy, player.image, this.gridWidth);\n      this.setPiece(cx, cy, player.value);\n    }\n  }, {\n    key: 'setPiece',\n    value: function setPiece(cx, cy, value) {\n      this.board[cx][cy] = value;\n      this.judge(cx, cy, value);\n    }\n  }, {\n    key: 'judgeAlgorithms',\n    value: function judgeAlgorithms() {\n      return [this.isX, this.isY, this.isLx, this.isLy];\n    }\n  }, {\n    key: 'judge',\n    value: function judge(x, y, colNum) {\n      this.judgeAlgorithms().map(function (algorithm) {\n        algorithm(colNum, x, y);\n      });\n    }\n  }, {\n    key: 'calculatePieceLine',\n    value: function calculatePieceLine(flag, count, pieceValue, calculateValue) {\n      if (!flag) return { count: count, flag: flag };\n      if (pieceValue === calculateValue) {\n        count++;\n      } else {\n        flag = false;\n      }\n      return { count: count, flag: flag };\n    }\n  }, {\n    key: 'getDynamicPosition',\n    value: function getDynamicPosition(x, y) {\n      if (x < 0 || x >= this.num || y < 0 || y >= this.num) {\n        return 0;\n      }\n      return this.board[x][y];\n    }\n  }, {\n    key: 'getMaxCount',\n    value: function getMaxCount(minusXGenerator, minusYGenerator, plusXGenerator, plusYGenerator, x, y, colNum) {\n      var count = 0,\n          minus = true,\n          plus = true;\n      for (var i = 1; i <= 5; i++) {\n        var result = this.calculatePieceLine(minus, count, this.getDynamicPosition(minusXGenerator(x, i), minusYGenerator(y, i)), colNum);\n        count = result.count;\n        minus = result.flag;\n\n        result = this.calculatePieceLine(plus, count, this.getDynamicPosition(plusXGenerator(x, i), plusYGenerator(y, i)), colNum);\n        count = result.count;\n        plus = result.flag;\n      }\n      this.success(count, colNum);\n    }\n  }, {\n    key: 'valueGenerator',\n    value: function valueGenerator(x, i) {\n      return x;\n    }\n  }, {\n    key: 'isX',\n    value: function isX(colNum, x, y) {\n      this.getMaxCount(function (x, i) {\n        return x - i;\n      }, this.valueGenerator, function (x, i) {\n        return x + i;\n      }, this.valueGenerator, x, y, colNum);\n    }\n  }, {\n    key: 'isY',\n    value: function isY(colNum, x, y) {\n      this.getMaxCount(this.valueGenerator, function (x, i) {\n        return x - i;\n      }, this.valueGenerator, function (x, i) {\n        return x + i;\n      }, x, y, colNum);\n    }\n  }, {\n    key: 'isLx',\n    value: function isLx(colNum, x, y) {\n      this.getMaxCount(function (x, i) {\n        return x - i;\n      }, function (y, i) {\n        return y - i;\n      }, function (x, i) {\n        return x + i;\n      }, function (y, i) {\n        return y + i;\n      }, x, y, colNum);\n    }\n  }, {\n    key: 'isLy',\n    value: function isLy(colNum, x, y) {\n      this.getMaxCount(function (x, i) {\n        return x - i;\n      }, function (y, i) {\n        return y + i;\n      }, function (x, i) {\n        return x + i;\n      }, function (y, i) {\n        return y - i;\n      }, x, y, colNum);\n    }\n  }, {\n    key: 'success',\n    value: function success(count, colNum) {\n      if (count >= 4) {\n        _playerConfig2.default.map(function (player) {\n          if (player.value === colNum) {\n            alert(player.name + '\\u83B7\\u80DC');\n          }\n        });\n        this.canvas.removeEventListener('click', this.calculatePiecePosition);\n      }\n    }\n  }]);\n\n  return ChessBoard;\n}();\n\nexports.default = ChessBoard;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar drawHelper = function () {\n  function drawHelper(canvas) {\n    _classCallCheck(this, drawHelper);\n\n    this.ctx = canvas.getContext('2d');\n  }\n\n  _createClass(drawHelper, [{\n    key: 'drawBoard',\n    value: function drawBoard(num, gridWidth) {\n      var width = gridWidth * num;\n\n      for (var i = 1; i < num; i++) {\n        this.ctx.moveTo(0, i * gridWidth);\n        this.ctx.lineTo(width, i * gridWidth);\n        this.ctx.stroke();\n        this.ctx.moveTo(i * gridWidth, 0);\n        this.ctx.lineTo(i * gridWidth, width);\n        this.ctx.stroke();\n      }\n    }\n  }, {\n    key: 'drawPiece',\n    value: function drawPiece(cx, cy, imageSrc, gridWidth) {\n      var _this = this;\n\n      var pieceImage = new Image();\n      pieceImage.src = imageSrc;\n      pieceImage.onload = function () {\n        _this.ctx.drawImage(pieceImage, cx * gridWidth - gridWidth / 2, cy * gridWidth - gridWidth / 2, gridWidth, gridWidth);\n      };\n    }\n  }]);\n\n  return drawHelper;\n}();\n\nexports.default = drawHelper;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _pieceBlack = __webpack_require__(4);\n\nvar _pieceBlack2 = _interopRequireDefault(_pieceBlack);\n\nvar _pieceWhite = __webpack_require__(5);\n\nvar _pieceWhite2 = _interopRequireDefault(_pieceWhite);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = [{\n  value: 1,\n  image: _pieceWhite2.default,\n  name: '白棋'\n}, {\n  value: 2,\n  name: '黑棋',\n  image: _pieceBlack2.default\n}];\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"piece-black.png\";\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"piece-white.png\";\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _winStrategy = __webpack_require__(7);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ComputerAI = function () {\n  function ComputerAI() {\n    _classCallCheck(this, ComputerAI);\n\n    var result = (0, _winStrategy.calculateWinNums)();\n    this.wins = result.wins;\n    this.count = result.count;\n  }\n\n  _createClass(ComputerAI, [{\n    key: 'nextStep',\n    value: function nextStep(chessboard) {\n      var myScore = [];\n      var computerScore = [];\n      var myWin = [];\n      var _myWin = [];\n      var computerWin = [];\n      var _compWin = [];\n      for (var i = 0; i < this.count; i++) {\n        myWin[i] = 0;\n        _myWin[i] = 0;\n        computerWin[i] = 0;\n        _compWin[i] = 0;\n      }\n      var max = 0,\n          u = 0,\n          v = 0;\n      for (var _i = 0; _i < 15; _i++) {\n        myScore[_i] = [];\n        computerScore[_i] = [];\n        for (var j = 0; j < 15; j++) {\n          myScore[_i][j] = 0;\n          computerScore[_i][j] = 0;\n        }\n      }\n\n      for (var _i2 = 0; _i2 < 15; _i2++) {\n        for (var _j = 0; _j < 15; _j++) {\n          for (var k = 0; k < this.count; k++) {\n            // 将可能赢的情况都加1\n            if (this.wins[_i2][_j][k]) {\n              if (chessboard[_i2][_j] === 1) {\n                myWin[k]++;\n                computerWin[k] = 6; //\n              } else if (chessboard[_i2][_j] === 2) {\n                myWin[k] = 6;\n                _compWin[k] = computerWin[k]; // 为悔棋做准备\n                computerWin[k]++; //\n              }\n            }\n          }\n        }\n      }\n      for (var _i3 = 0; _i3 < 15; _i3++) {\n        for (var _j2 = 0; _j2 < 15; _j2++) {\n          if (chessboard[_i3][_j2] == 0) {\n            for (var _k = 0; _k < this.count; _k++) {\n              if (this.wins[_i3][_j2][_k]) {\n                if (myWin[_k] == 1) {\n                  myScore[_i3][_j2] += 200;\n                } else if (myWin[_k] == 2) {\n                  myScore[_i3][_j2] += 400;\n                } else if (myWin[_k] == 3) {\n                  myScore[_i3][_j2] += 2000;\n                } else if (myWin[_k] == 4) {\n                  myScore[_i3][_j2] += 10000;\n                }\n\n                if (computerWin[_k] == 1) {\n                  computerScore[_i3][_j2] += 220;\n                } else if (computerWin[_k] == 2) {\n                  computerScore[_i3][_j2] += 420;\n                } else if (computerWin[_k] == 3) {\n                  computerScore[_i3][_j2] += 2100;\n                } else if (computerWin[_k] == 4) {\n                  computerScore[_i3][_j2] += 20000;\n                }\n              }\n            }\n\n            if (myScore[_i3][_j2] > max) {\n              max = myScore[_i3][_j2];\n              u = _i3;\n              v = _j2;\n            } else if (myScore[_i3][_j2] == max) {\n              if (computerScore[_i3][_j2] > computerScore[u][v]) {\n                u = _i3;\n                v = _j2;\n              }\n            }\n\n            if (computerScore[_i3][_j2] > max) {\n              max = computerScore[_i3][_j2];\n              u = _i3;\n              v = _j2;\n            } else if (computerScore[_i3][_j2] == max) {\n              if (myScore[_i3][_j2] > myScore[u][v]) {\n                u = _i3;\n                v = _j2;\n              }\n            }\n          }\n        }\n      }\n      return { x: u, y: v };\n    }\n  }]);\n\n  return ComputerAI;\n}();\n\nexports.default = ComputerAI;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n//赢法数组\n\nvar calculateWinNums = exports.calculateWinNums = function calculateWinNums() {\n  var wins = [];\n  for (var i = 0; i < 15; i++) {\n    wins[i] = [];\n    for (var j = 0; j < 15; j++) {\n      wins[i][j] = [];\n    }\n  }\n  var count = 0; //赢法总数\n  //横线赢法\n  for (var _i = 0; _i < 15; _i++) {\n    for (var _j = 0; _j < 11; _j++) {\n      for (var k = 0; k < 5; k++) {\n        wins[_i][_j + k][count] = true;\n      }\n      count++;\n    }\n  }\n\n  //竖线赢法\n  for (var _i2 = 0; _i2 < 15; _i2++) {\n    for (var _j2 = 0; _j2 < 11; _j2++) {\n      for (var _k = 0; _k < 5; _k++) {\n        wins[_j2 + _k][_i2][count] = true;\n      }\n      count++;\n    }\n  }\n\n  //正斜线赢法\n  for (var _i3 = 0; _i3 < 11; _i3++) {\n    for (var _j3 = 0; _j3 < 11; _j3++) {\n      for (var _k2 = 0; _k2 < 5; _k2++) {\n        wins[_i3 + _k2][_j3 + _k2][count] = true;\n      }\n      count++;\n    }\n  }\n\n  //反斜线赢法\n  for (var _i4 = 0; _i4 < 11; _i4++) {\n    for (var _j4 = 14; _j4 > 3; _j4--) {\n      for (var _k3 = 0; _k3 < 5; _k3++) {\n        wins[_i4 + _k3][_j4 - _k3][count] = true;\n      }\n      count++;\n    }\n  }\n\n  return { wins: wins, count: count };\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// main.73acc8dcc4c2fd3d9882.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 642cc07ed427d788629c","import Chessboard from './js/Chessboard';\nimport './styles/styles.scss';\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  new Chessboard(15);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import drawHelper from './drawHelper';\nimport players from './playerConfig';\nimport computerAI from './computerAI';\n\nexport default class ChessBoard {\n  constructor(n) {\n    this.num = n;\n    this.gridWidth = 35;\n    this.board = [];\n    this.step = 0;\n    this.canvas = document.getElementById('chessboard-canvas');\n    this.canvas.width = this.gridWidth * this.num;\n    this.canvas.height = this.gridWidth * this.num;\n    this.brush = new drawHelper(this.canvas);\n    this.computerAI = new computerAI();\n    this.bindEvents();\n    this.initBoard();\n    this.isLx = this.isLx.bind(this);\n    this.isLy = this.isLy.bind(this);\n    this.isX = this.isX.bind(this);\n    this.isY = this.isY.bind(this);\n    this.calculatePiecePosition = this.calculatePiecePosition.bind(this);\n  }\n\n  initBoard() {\n    for (let x = 0; x < this.num; x++) {\n      this.board[x] = [];\n      for (let y = 0; y < this.num; y++) {\n        this.board[x][y] = 0\n      }\n    }\n    this.brush.drawBoard(this.num, this.gridWidth);\n  }\n\n  bindEvents() {\n    this.canvas.addEventListener('click', this.calculatePiecePosition.bind(this));\n  }\n\n  isPieceInBoard(x, y) {\n    return (x > 0 && x < this.gridWidth * this.num - this.gridWidth / 2 ||\n    y > 0 || y < this.gridWidth * this.num - this.gridWidth / 2)\n  }\n\n  calculatePiecePosition(e) {\n    const x = e.offsetX, y = e.offsetY;\n    if (!this.isPieceInBoard(x, y)) {\n      return;\n    }\n    const cx = Math.round(x / this.gridWidth),\n      cy = Math.round(y / this.gridWidth);\n    this.completeBoard(cx, cy);\n    const computerPiece = this.computerAI.nextStep(this.board);\n    this.completeBoard(computerPiece.x, computerPiece.y);\n  }\n\n  completeBoard(cx, cy) {\n    if (this.board[cx][cy] !== 0) {\n      alert(\"当前位置已有棋子，请不要重复落子哦\");\n      return;\n    }\n    this.step += 1;\n    const player = players[this.step % 2];\n    this.brush.drawPiece(cx, cy, player.image, this.gridWidth);\n    this.setPiece(cx, cy, player.value);\n  }\n\n  setPiece(cx, cy, value) {\n    this.board[cx][cy] = value;\n    this.judge(cx, cy, value);\n  }\n\n  judgeAlgorithms() {\n    return [this.isX, this.isY, this.isLx, this.isLy]\n  }\n\n  judge(x, y, colNum) {\n    this.judgeAlgorithms().map((algorithm) => {\n      algorithm(colNum, x, y);\n    });\n  }\n\n  calculatePieceLine(flag, count, pieceValue, calculateValue) {\n    if (!flag) return { count, flag };\n    if (pieceValue === calculateValue) { count++; }\n    else { flag = false; }\n    return { count, flag };\n  }\n\n  getDynamicPosition(x, y) {\n    if (x < 0 || x >= this.num || y < 0 || y >= this.num) {\n      return 0;\n    }\n    return this.board[x][y];\n  }\n\n  getMaxCount(minusXGenerator, minusYGenerator, plusXGenerator, plusYGenerator, x, y, colNum) {\n    let count = 0, minus = true, plus = true;\n    for (let i = 1; i <= 5; i++) {\n      let result = this.calculatePieceLine(minus, count, this.getDynamicPosition(minusXGenerator(x, i), minusYGenerator(y, i)), colNum);\n      count = result.count;\n      minus = result.flag;\n\n      result = this.calculatePieceLine(plus, count, this.getDynamicPosition(plusXGenerator(x, i), plusYGenerator(y, i)), colNum);\n      count = result.count;\n      plus = result.flag;\n    }\n    this.success(count, colNum);\n  }\n\n  valueGenerator(x, i) {\n    return x;\n  }\n\n  isX(colNum, x, y) {\n    this.getMaxCount((x, i) => {return x - i}, this.valueGenerator,\n      (x, i) => {return x + i}, this.valueGenerator, x, y, colNum);\n  }\n\n  isY(colNum, x, y) {\n    this.getMaxCount(this.valueGenerator, (x, i) => {return x - i}, this.valueGenerator,\n      (x, i) => {return x + i}, x, y, colNum);\n  }\n\n  isLx(colNum, x, y) {\n    this.getMaxCount((x, i) => {return x - i}, (y, i) => {return y - i}, (x, i) => {return x + i},\n      (y, i) => {return y + i}, x, y, colNum);\n  }\n\n  isLy(colNum, x, y) {\n    this.getMaxCount((x, i) => {return x - i}, (y, i) => {return y + i}, (x, i) => {return x + i},\n      (y, i) => {return y - i}, x, y, colNum);\n  }\n\n  success(count, colNum) {\n    if (count >= 4) {\n      players.map((player) => {\n        if(player.value === colNum) {\n          alert(`${player.name}获胜`);\n        }\n      });\n      this.canvas.removeEventListener('click', this.calculatePiecePosition);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Chessboard.js","export default class drawHelper {\n\n  constructor(canvas) {\n    this.ctx = canvas.getContext('2d');\n  }\n\n  drawBoard(num, gridWidth) {\n    const width = gridWidth * num;\n\n    for (let i = 1; i < num; i++) {\n      this.ctx.moveTo(0, i * gridWidth);\n      this.ctx.lineTo(width, i * gridWidth);\n      this.ctx.stroke();\n      this.ctx.moveTo(i * gridWidth, 0);\n      this.ctx.lineTo(i * gridWidth, width);\n      this.ctx.stroke()\n    }\n  }\n\n  drawPiece(cx, cy, imageSrc, gridWidth) {\n    const pieceImage = new Image();\n    pieceImage.src = imageSrc;\n    pieceImage.onload = () => {\n      this.ctx.drawImage(pieceImage, cx * gridWidth - gridWidth / 2, cy * gridWidth - gridWidth / 2, gridWidth, gridWidth);\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/drawHelper.js","import blackPiece from '../asset/piece-black.png';\nimport whitePiece from '../asset/piece-white.png';\n\nexport default [{\n  value: 1,\n  image: whitePiece,\n  name: '白棋'\n},{\n  value: 2,\n  name: '黑棋',\n  image: blackPiece\n}]\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/playerConfig.js","module.exports = __webpack_public_path__ + \"piece-black.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/asset/piece-black.png\n// module id = 4\n// module chunks = 0","module.exports = __webpack_public_path__ + \"piece-white.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/asset/piece-white.png\n// module id = 5\n// module chunks = 0","import {calculateWinNums} from './winStrategy';\n\nexport default class ComputerAI {\n  constructor() {\n    const result = calculateWinNums();\n    this.wins = result.wins;\n    this.count = result.count;\n  }\n\n  nextStep(chessboard) {\n    const myScore = [];\n    const computerScore = [];\n    const myWin = [];\n    const _myWin = [];\n    const computerWin = [];\n    const _compWin = [];\n    for (let i = 0; i < this.count; i++) {\n      myWin[i] = 0;\n      _myWin[i] = 0;\n      computerWin[i] = 0;\n      _compWin[i] = 0;\n    }\n    let max = 0, u = 0, v = 0;\n    for (let i = 0; i < 15; i++) {\n      myScore[i] = [];\n      computerScore[i] = [];\n      for (let j = 0; j < 15; j++) {\n        myScore[i][j] = 0;\n        computerScore[i][j] = 0;\n      }\n    }\n\n    for (let i = 0; i < 15; i++) {\n      for (let j = 0; j < 15; j++) {\n        for (let k = 0; k < this.count; k++) { // 将可能赢的情况都加1\n          if (this.wins[i][j][k]) {\n            if(chessboard[i][j] === 1) {\n              myWin[k]++;\n              computerWin[k] = 6;//\n            } else if(chessboard[i][j] === 2) {\n              myWin[k] = 6;\n              _compWin[k] = computerWin[k]; // 为悔棋做准备\n              computerWin[k]++;//\n            }\n          }\n        }\n      }\n    }\n    for (let i = 0; i < 15; i++) {\n      for (let j = 0; j < 15; j++) {\n        if (chessboard[i][j] == 0) {\n          for (let k = 0; k < this.count; k++) {\n            if (this.wins[i][j][k]) {\n              if (myWin[k] == 1) {\n                myScore[i][j] += 200;\n              } else if (myWin[k] == 2) {\n                myScore[i][j] += 400;\n              } else if (myWin[k] == 3) {\n                myScore[i][j] += 2000;\n              } else if (myWin[k] == 4) {\n                myScore[i][j] += 10000;\n              }\n\n              if (computerWin[k] == 1) {\n                computerScore[i][j] += 220;\n              } else if (computerWin[k] == 2) {\n                computerScore[i][j] += 420;\n              } else if (computerWin[k] == 3) {\n                computerScore[i][j] += 2100;\n              } else if (computerWin[k] == 4) {\n                computerScore[i][j] += 20000;\n              }\n            }\n          }\n\n          if (myScore[i][j] > max) {\n            max = myScore[i][j];\n            u = i;\n            v = j;\n          } else if (myScore[i][j] == max) {\n            if (computerScore[i][j] > computerScore[u][v]) {\n              u = i;\n              v = j;\n            }\n          }\n\n          if (computerScore[i][j] > max) {\n            max = computerScore[i][j];\n            u = i;\n            v = j;\n          } else if (computerScore[i][j] == max) {\n            if (myScore[i][j] > myScore[u][v]) {\n              u = i;\n              v = j;\n            }\n          }\n\n        }\n      }\n    }\n    return {x: u, y: v}\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/computerAI.js","//赢法数组\n\nexport const calculateWinNums = () => {\n  const wins = [];\n  for (let i = 0; i < 15; i++) {\n    wins[i] = [];\n    for (let j = 0; j < 15; j++) {\n      wins[i][j] = [];\n    }\n  }\n  let count = 0; //赢法总数\n//横线赢法\n  for (let i = 0; i < 15; i++) {\n    for (let j = 0; j < 11; j++) {\n      for (let k = 0; k < 5; k++) {\n        wins[i][j + k][count] = true;\n      }\n      count++;\n    }\n  }\n\n//竖线赢法\n  for (let i = 0; i < 15; i++) {\n    for (let j = 0; j < 11; j++) {\n      for (let k = 0; k < 5; k++) {\n        wins[j + k][i][count] = true;\n      }\n      count++;\n    }\n  }\n\n//正斜线赢法\n  for (let i = 0; i < 11; i++) {\n    for (let j = 0; j < 11; j++) {\n      for (let k = 0; k < 5; k++) {\n        wins[i + k][j + k][count] = true;\n      }\n      count++;\n    }\n  }\n\n//反斜线赢法\n  for (let i = 0; i < 11; i++) {\n    for (let j = 14; j > 3; j--) {\n      for (let k = 0; k < 5; k++) {\n        wins[i + k][j - k][count] = true;\n      }\n      count++;\n    }\n  }\n\n  return {wins, count};\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/winStrategy.js"],"sourceRoot":""}